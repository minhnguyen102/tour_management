extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/formHidden.pug

block main 
    +alert-success(5000)
    h1(class="mb-4") Phân quyền
    if(records)
        div(data-records = records)
        div(class="text-right")
            button(
                type="submit"
                class="btn btn-primary mb-3"
                button-submit
            ) Cập nhật

        table(
            talble-permissions 
            class="table table-hover table-sm"
        )
            thead 
                tr 
                    th Tính năng
                    each record in records 
                        th(class = "text-center") #{record.title}
            tbody 
                tr(data-name="id" class="")
                    td 
                    each record in records 
                        td(class="text-center")
                            input(type="text" value = record.id)

                tr 
                    td(colspan="4")
                        b Danh mục tour
                tr(data-name="tour-category_view")
                    td Xem 
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="tour-category_create")
                    td Thêm
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="tour-category_edit")
                    td Sửa
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="tour-category_delete")
                    td Xóa
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")
                            
                tr 
                    td(colspan="4")
                        b Danh sách tour
                tr(data-name="tours_view")
                    td Xem 
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="tours_create")
                    td Thêm
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="tous_edit")
                    td Sửa
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="tous_delete")
                    td Xóa
                    each record in records 
                        td(class="text-center")
                            input(type="checkbox")

                tr 
                    td(colspan="4")
                        b Nhóm quyền
                tr(data-name="roles_view")
                    td Xem
                    each record in records
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_create")
                    td Thêm mới
                    each record in records
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_edit")
                    td Sửa 
                    each record in records
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_delete")
                    td Xóa
                    each record in records
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_permissions")
                    td Phân quyền
                    each record in records
                        td(class="text-center")
                            input(type="checkbox")

    script(src="/admin/js/role.js") 
    +formHiddenPermission("form-change-permissions", `${prefixAdmin}/roles/permissions?_method=PATCH`)
        